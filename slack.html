

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Slack Interactive Demo Experience</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- GSAP -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700;900&family=DM+Sans:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        aubergine: '#4A154B',
                        sidebar: '#3F0E40',
                        sidebarHover: '#350d36',
                        activeBlue: '#1164A3',
                        appBg: '#FFFFFF',
                    },
                    fontFamily: {
                        sans: ['Lato', 'sans-serif'],
                        dm: ['DM Sans', 'sans-serif'],
                    },
                    boxShadow: {
                        'window': '0 25px 50px -12px rgba(0, 0, 0, 0.5)',
                        'float': '0 10px 30px rgba(0,0,0,0.15)',
                    }
                }
            }
        }
    </script>

    <style>
        body { overflow: hidden; background-color: #4A154B; }
        .stage { position: relative; width: 100vw; height: 100vh; perspective: 1500px; overflow: hidden; }
        
        /* Scene 0: Start Overlay */
        #start-overlay {
            position: absolute; inset: 0; z-index: 100;
            background: #4A154B; display: flex; flex-direction: column;
            align-items: center; justify-content: center;
        }
        
        /* Scene 1: Intro Input */
        #intro-input-container {
            position: absolute; top: 50%; left: 50%; 
            transform: translate(-50%, -50%); z-index: 50;
            width: 400px;
        }

        /* Main App Window */
        #app-window {
            position: absolute; top: 50%; left: 50%;
            width: 1200px; height: 800px;
            background: white; border-radius: 12px;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
            display: flex; overflow: hidden;
            opacity: 0; /* Hidden initially */
            transform: translate(-50%, -50%) scale(0.8);
            transform-origin: center center;
            z-index: 40;
        }

        /* Huddle Overlay */
        #huddle-overlay {
            position: absolute; inset: 0; 
            background: rgba(0,0,0,0.6); backdrop-filter: blur(5px);
            display: flex; align-items: center; justify-content: center;
            opacity: 0; pointer-events: none; z-index: 60;
        }

        /* Help Spotlight */
        #spotlight-mask {
            position: absolute; inset: 0;
            background: radial-gradient(circle at 95% 5%, transparent 50px, rgba(0,0,0,0.85) 150px);
            opacity: 0; z-index: 90; pointer-events: none;
        }

        /* Utilities */
        .hidden-initially { opacity: 0; }
        .will-change-transform { will-change: transform, opacity; }
        
        /* Typing Cursor */
        .cursor { width: 2px; height: 24px; background: #4A154B; animation: blink 1s infinite; }
        @keyframes blink { 50% { opacity: 0; } }
    </style>
</head>
<body>

    <!-- Background Audio -->
    <audio id="bg-music" src="https://raw.githubusercontent.com/boringresearch/1-min-demo/refs/heads/main/media/demo.mp3" loop preload="auto"></audio>

    <div class="stage">

        <!-- SCENE 0: Start Screen -->
        <div id="start-overlay">
            <div class="mb-8">
                <svg class="w-20 h-20 text-white" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M6 15a2.5 2.5 0 1 1 0-5 2.5 2.5 0 0 1 0 5zm1-10a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0zm2.5 6a2.5 2.5 0 1 1 0-5 2.5 2.5 0 0 1 0 5zm10-1a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0zm-1 10a2.5 2.5 0 1 1 0-5 2.5 2.5 0 0 1 0 5zm-6-2.5a2.5 2.5 0 1 1 5 0 2.5 2.5 0 0 1-5 0zm6-3.5a2.5 2.5 0 1 1 0-5 2.5 2.5 0 0 1 0 5z"/>
                </svg>
            </div>
            <button id="start-btn" class="px-8 py-3 bg-white text-aubergine font-bold rounded-full shadow-lg hover:scale-105 transition-transform duration-200 text-lg tracking-wide">
                Start Demo
            </button>
        </div>

        <!-- SCENE 1: Intro Input -->
        <div id="intro-input-container">
            <div class="bg-white rounded-lg p-1.5 shadow-2xl flex items-center h-16 w-full">
                <div class="pl-4 text-xl text-gray-800 font-medium flex items-center">
                    <span id="typing-target"></span><div class="cursor ml-1"></div>
                </div>
            </div>
        </div>

        <!-- MAIN APP WINDOW (Scenes 2-7) -->
        <div id="app-window">
            
            <!-- Sidebar -->
            <aside id="sidebar" class="w-[260px] bg-sidebar flex-shrink-0 flex flex-col text-[#B8B0B8] border-r border-white/10 z-10 origin-left">
                <header class="h-12 flex items-center px-4 hover:bg-sidebarHover cursor-pointer border-b border-white/10">
                    <h1 class="text-white font-bold text-lg truncate">Acme Corp</h1>
                    <span class="ml-auto w-2 h-2 bg-white rounded-full"></span>
                </header>
                <nav class="flex-1 py-4 space-y-1 px-2">
                    <div class="px-2 py-1 flex items-center group cursor-pointer text-white/80">
                        <span class="material-symbols-outlined text-sm mr-2">arrow_drop_down</span>
                        <span class="font-bold">Channels</span>
                    </div>
                    <div class="pl-6 space-y-[2px]">
                        <div class="px-2 py-1 rounded cursor-pointer hover:bg-sidebarHover transition-colors"># general</div>
                        <div id="channel-unicorn" class="px-2 py-1 rounded cursor-pointer text-white bg-transparent transition-all duration-300 relative">
                            <span class="mr-1 opacity-70">#</span> project-unicorn
                            <div id="channel-highlight" class="absolute inset-0 bg-activeBlue rounded opacity-0 -z-10"></div>
                        </div>
                        <div class="px-2 py-1 rounded cursor-pointer hover:bg-sidebarHover transition-colors"># design-team</div>
                    </div>
                </nav>
            </aside>

            <!-- Main Chat Area -->
            <main id="chat-area" class="flex-1 flex flex-col bg-white relative min-w-0 origin-center">
                
                <!-- Header -->
                <header class="h-16 border-b border-gray-200 flex items-center justify-between px-6 shrink-0 bg-white z-20">
                    <div class="flex items-center gap-2">
                        <h2 class="text-lg font-bold text-gray-900"># project-unicorn</h2>
                    </div>
                    <!-- Huddle Toggle -->
                    <div id="huddle-toggle" class="border rounded px-2 py-1 flex items-center gap-2 cursor-pointer hover:bg-gray-50 transition-colors">
                        <span class="material-symbols-outlined text-gray-500">headphones</span>
                    </div>
                </header>

                <!-- Messages -->
                <div id="message-list" class="flex-1 p-6 space-y-6 overflow-hidden">
                    
                    <!-- Msg 1 -->
                    <div class="flex gap-3 group">
                        <img src="https://i.pravatar.cc/150?u=1" class="w-9 h-9 rounded bg-gray-200 shrink-0">
                        <div class="flex-1">
                            <div class="flex items-baseline gap-2">
                                <span class="font-bold text-[15px]">Lisa Millen</span>
                                <span class="text-xs text-gray-500">10:42 AM</span>
                            </div>
                            <p class="text-[15px] text-gray-800">Here is the latest iteration for the hero section.</p>
                        </div>
                    </div>

                    <!-- Msg 2 (Animated Elements) -->
                    <div class="flex gap-3 group">
                        <img src="https://i.pravatar.cc/150?u=5" class="w-9 h-9 rounded bg-gray-200 shrink-0">
                        <div class="flex-1">
                            <div class="flex items-baseline gap-2">
                                <span class="font-bold text-[15px]">Marcela Sanguinetti</span>
                                <span class="text-xs text-gray-500">10:45 AM</span>
                            </div>
                            <p class="text-[15px] text-gray-800">
                                Looks great! <span id="mention-highlight" class="text-blue-600 bg-blue-50 px-1 rounded opacity-0">@Lisa</span> check this out.
                            </p>
                            
                            <!-- File Card -->
                            <div id="file-card" class="mt-2 flex items-center gap-3 p-3 border border-gray-200 rounded-lg w-[300px] bg-white opacity-0 transform translate-y-4">
                                <div class="w-10 h-10 bg-red-50 text-red-500 rounded-lg flex items-center justify-center shrink-0 font-bold text-xs">PDF</div>
                                <div class="min-w-0">
                                    <div class="font-bold text-sm truncate">specs_v2.pdf</div>
                                    <div class="text-xs text-gray-500">2.4 MB</div>
                                </div>
                            </div>

                            <!-- Reaction -->
                            <div id="reaction-bar" class="mt-2 flex gap-1 opacity-0 transform scale-50 origin-left">
                                <div class="flex items-center gap-1 bg-gray-100 rounded-full px-2 py-0.5 border border-transparent">
                                    <span>ðŸ”¥</span> <span class="text-xs font-bold text-blue-600">1</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Input Area -->
                <div class="p-6 pt-0 z-30 bg-white">
                    <div class="border border-gray-300 rounded-xl p-2 shadow-sm bg-white relative">
                        <!-- Toolbar -->
                        <div class="flex items-center gap-2 px-1 pb-2 border-b border-gray-100 mb-2">
                            <span class="material-symbols-outlined text-gray-400 text-[20px]">format_bold</span>
                            <span class="material-symbols-outlined text-gray-400 text-[20px]">format_italic</span>
                            <div class="w-px h-4 bg-gray-300 mx-1"></div>
                            <!-- Video Icon Target -->
                            <button id="video-icon" class="hover:bg-gray-100 p-1 rounded transition-colors relative z-50">
                                <span class="material-symbols-outlined text-gray-500 text-[20px]">videocam</span>
                            </button>
                        </div>
                        <div class="h-8 text-gray-400 text-[15px] pl-1">Message...</div>
                    </div>
                </div>

                <!-- Video Modal (Hidden initially) -->
                <div id="video-modal" class="absolute bottom-20 left-10 bg-white rounded-xl shadow-2xl w-[400px] overflow-hidden opacity-0 pointer-events-none transform scale-75 origin-bottom-left z-50 border border-gray-200">
                    <div class="bg-black h-[240px] relative flex items-center justify-center overflow-hidden">
                        <div class="absolute inset-0 bg-gradient-to-br from-pink-500 to-purple-600 opacity-80"></div>
                        <div class="text-white font-bold text-lg relative z-10 flex items-center gap-2">
                            <span class="w-3 h-3 bg-red-500 rounded-full animate-pulse"></span> Recording...
                        </div>
                    </div>
                    <div class="p-3 flex justify-between items-center bg-white">
                        <span class="text-xs font-mono text-gray-500">00:04</span>
                        <button class="bg-[#007A5A] text-white text-xs font-bold px-4 py-1.5 rounded hover:bg-[#00694e]">Done</button>
                    </div>
                </div>

            </main>

            <!-- Help Widget (Absolute) -->
            <div id="help-widget" class="absolute top-4 right-4 z-50">
                <button class="w-8 h-8 rounded-full border-2 border-gray-300 flex items-center justify-center text-gray-500 bg-white shadow-sm">
                    <span class="font-bold text-sm">?</span>
                </button>
            </div>

        </div>

        <!-- SCENE 6: Huddle Grid (Overlay) -->
        <div id="huddle-grid" class="absolute inset-0 flex items-center justify-center pointer-events-none opacity-0 z-50">
            <div class="bg-[#240F26] p-4 rounded-2xl shadow-2xl w-[800px] h-[500px] grid grid-cols-2 gap-4 transform scale-90">
                <!-- Person 1 -->
                <div class="bg-gray-700 rounded-xl overflow-hidden relative group">
                    <img src="https://images.unsplash.com/photo-1573496359142-b8d87734a5a2?auto=format&fit=crop&w=400&q=80" class="w-full h-full object-cover opacity-80">
                    <div class="absolute bottom-3 left-3 text-white text-sm font-bold">Sarah</div>
                </div>
                <!-- Person 2 -->
                <div class="bg-gray-700 rounded-xl overflow-hidden relative group border-4 border-green-500">
                    <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?auto=format&fit=crop&w=400&q=80" class="w-full h-full object-cover">
                    <div class="absolute bottom-3 left-3 text-white text-sm font-bold">David (Speaking)</div>
                </div>
                <!-- Person 3 (Slide In) -->
                <div id="huddle-p3" class="bg-gray-700 rounded-xl overflow-hidden relative opacity-0 transform translate-y-10">
                    <img src="https://images.unsplash.com/photo-1580489944761-15a19d654956?auto=format&fit=crop&w=400&q=80" class="w-full h-full object-cover opacity-80">
                </div>
                <!-- Person 4 (Slide In) -->
                <div id="huddle-p4" class="bg-gray-700 rounded-xl overflow-hidden relative opacity-0 transform translate-y-10">
                    <img src="https://images.unsplash.com/photo-1494790108377-be9c29b29330?auto=format&fit=crop&w=400&q=80" class="w-full h-full object-cover opacity-80">
                </div>
            </div>
        </div>

        <!-- Spotlight Mask -->
        <div id="spotlight-mask"></div>

    </div>

    <script>
        // Setup Audio
        const bgMusic = document.getElementById('bg-music');
        bgMusic.volume = 0.3;

        // GSAP Setup
        const tl = gsap.timeline({ paused: true });

        // --- ANIMATION SEQUENCE ---

        // Scene 1: Hello World (Typing)
        const text = "Hello World";
        const typingTarget = document.getElementById('typing-target');
        
        // Helper for typing effect
        tl.to(typingTarget, {
            duration: 1,
            text: { value: text, delimiter: "" },
            ease: "none",
            onUpdate: function() {
                const i = Math.floor(this.progress() * text.length);
                typingTarget.innerText = text.substring(0, i + 1);
            }
        });

        // Transition 1->2: Explode to App
        tl.to("#intro-input-container", {
            scale: 1.5,
            opacity: 0,
            duration: 0.5,
            ease: "power2.in"
        })
        .to("#app-window", {
            opacity: 1,
            scale: 1,
            duration: 0.8,
            ease: "expo.out"
        }, "-=0.3");

        // Scene 2: Channel Focus (2.5D Tilt)
        tl.to("#app-window", {
            rotationY: -5, // Tilt slightly
            x: 50,
            duration: 1,
            ease: "power2.inOut"
        })
        .to("#channel-highlight", {
            opacity: 1,
            duration: 0.3
        }, "-=0.5")
        .to("#channel-unicorn", {
            scale: 1.05,
            x: 5,
            duration: 0.3,
            ease: "back.out"
        }, "<");

        // Scene 3: Workflow Zoom (Focus Chat)
        tl.to("#channel-highlight", { opacity: 0, duration: 0.2 }) // Reset
        .to("#channel-unicorn", { scale: 1, x: 0, duration: 0.2 }, "<")
        .to("#app-window", {
            rotationY: 0,
            x: -130, // Move sidebar out
            scale: 1.2, // Zoom in
            duration: 1.2,
            ease: "power3.inOut"
        });

        // Scene 4: Collaboration (Pop-ins)
        // Mention
        tl.to("#mention-highlight", {
            opacity: 1,
            backgroundColor: "#EFF6FF", // blue-50
            duration: 0.3
        })
        // File Card Drop
        .to("#file-card", {
            opacity: 1,
            y: 0,
            duration: 0.6,
            ease: "bounce.out"
        }, "+=0.2")
        // Reaction Pop
        .to("#reaction-bar", {
            opacity: 1,
            scale: 1,
            duration: 0.4,
            ease: "elastic.out(1, 0.5)"
        }, "+=0.1");

        // Scene 5: Video Clip
        // Focus on toolbar
        tl.to("#app-window", {
            y: -100, // Pan down to input
            scale: 1.3,
            duration: 0.8,
            ease: "power2.inOut"
        })
        .to("#video-icon", {
            color: "#4A154B",
            scale: 1.2,
            duration: 0.2
        })
        // Morph/Pop Modal
        .to("#video-modal", {
            opacity: 1,
            scale: 1,
            duration: 0.5,
            ease: "back.out(1.7)"
        })
        .to("#video-icon", { scale: 1, duration: 0.2 }, "<")
        // Close Modal
        .to("#video-modal", {
            scale: 0,
            opacity: 0,
            duration: 0.4,
            ease: "back.in(1.7)",
            delay: 1.5 // Hold for viewing
        });

        // Scene 6: Huddle
        // Reset View
        tl.to("#app-window", {
            x: 0, y: 0, scale: 1,
            duration: 0.8,
            ease: "power2.inOut"
        })
        // Click Huddle
        .to("#huddle-toggle", {
            backgroundColor: "#22c55e", // Green
            borderColor: "#22c55e",
            color: "white",
            duration: 0.2
        })
        .to("#huddle-toggle span", { color: "white", duration: 0.2 }, "<")
        // Show Grid
        .to("#huddle-grid", {
            opacity: 1,
            duration: 0.5
        })
        .to("#huddle-grid > div", {
            scale: 1,
            ease: "back.out",
            duration: 0.5
        }, "<")
        // Add participants
        .to("#huddle-p3", { opacity: 1, y: 0, duration: 0.4, ease: "power2.out" }, "+=0.2")
        .to("#huddle-p4", { opacity: 1, y: 0, duration: 0.4, ease: "power2.out" }, "-=0.2");

        // Scene 7: Help Spotlight
        // Close Huddle
        tl.to("#huddle-grid", { opacity: 0, scale: 1.1, duration: 0.5, delay: 1 })
        .to("#huddle-toggle", { backgroundColor: "transparent", borderColor: "#e5e7eb", color: "inherit" }, "<")
        .to("#huddle-toggle span", { color: "#6b7280" }, "<")
        
        // Darken
        .to("#spotlight-mask", {
            opacity: 1,
            duration: 1
        })
        // Pulse Help
        .to("#help-widget", {
            scale: 1.2,
            boxShadow: "0 0 20px rgba(255,255,255,0.5)",
            duration: 0.5,
            yoyo: true,
            repeat: 1
        });

        // Scene 8: Loop (Back to start)
        tl.to("#app-window", {
            scale: 0,
            opacity: 0,
            duration: 0.8,
            ease: "back.in(1)"
        })
        .to("#spotlight-mask", { opacity: 0, duration: 0.5 }, "<")
        .set("#intro-input-container", { scale: 1, opacity: 1 })
        .set(typingTarget, { text: "" })
        .to(typingTarget, {
            duration: 1,
            text: "Ready, set, go!",
            ease: "none",
            delay: 0.5
        });


        // --- INTERACTION LOGIC ---
        const startBtn = document.getElementById('start-btn');
        const startOverlay = document.getElementById('start-overlay');

        startBtn.addEventListener('click', () => {
            // 1. Play Audio
            bgMusic.play().catch(e => console.log("Audio play failed", e));
            
            // 2. Hide Overlay
            gsap.to(startOverlay, {
                opacity: 0,
                duration: 0.5,
                onComplete: () => startOverlay.style.display = 'none'
            });

            // 3. Start Animation
            tl.play();
        });

    </script>
</body>
</html>
